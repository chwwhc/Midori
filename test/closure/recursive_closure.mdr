var makeRecursive = closure(var n) 
{
  if (n == 0) return closure(var x) { return 1; };
  return closure(var x) { return x * makeRecursive(n - 1)(x - 1); };
};

var factorial = makeRecursive(5);

fixed main = closure()
{
	PrintLine(factorial(5));  // Should print 120

	return 0;
};
