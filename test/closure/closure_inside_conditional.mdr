fixed foo := closure() : Integer
{
	var getFunc : () -> Integer := closure() : Integer { return 1; };
	if (true)
	{
		var y : Integer := 5;
		getFunc = closure() : Integer { return y; };
	}
	return getFunc();
};

fixed main := closure() : Unit
{
	PrintLine(foo());  // Should print 5

	return #;
};